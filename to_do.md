
Mar 25 09:24:21 PM  ** (exit) an exception was raised:
Mar 25 09:24:21 PM      ** (CaseClauseError) no case clause matching: nil
Mar 25 09:24:21 PM          (network_lab) lib/network_lab_web/channels/auth_socket.ex:21: NetworkLabWeb.AuthSocket.connect/3
Mar 25 09:24:21 PM          (phoenix) lib/phoenix/socket.ex:652: Phoenix.Socket.user_connect/6
Mar 25 09:24:21 PM          (phoenix) lib/phoenix/socket.ex:531: anonymous fn/9 in Phoenix.Socket.__connect__/3
Mar 25 09:24:21 PM          (phoenix) lib/phoenix/transports/websocket.ex:31: Phoenix.Transports.WebSocket.connect/4
Mar 25 09:24:21 PM          (phoenix) lib/phoenix/endpoint/cowboy2_handler.ex:21: Phoenix.Endpoint.Cowboy2Handler.init/4
Mar 25 09:24:21 PM          (cowboy) /opt/render/project/src/deps/cowboy/src/cowboy_handler.erl:41: :cowboy_handler.execute/2
Mar 25 09:24:21 PM          (cowboy) /opt/render/project/src/deps/cowboy/src/cowboy_stream_h.erl:320: :cowboy_stream_h.execute/3
Mar 25 09:24:21 PM          (cowboy) /opt/render/project/src/deps/cowboy/src/cowboy_stream_h.erl:302: :cowboy_stream_h.request_process/3
Mar 25 09:24:21 PM  20:24:21.579 [info] CONNECTED TO NetworkLabWeb.AuthSocket in 311µs




.ug795jThrbQA6zy7Rb4Ca7Qt_2kAu9h3sZHKScijvYs&vsn=2.0.0
Mar 25 09:24:27 PM  ** (exit) an exception was raised:
Mar 25 09:24:27 PM      ** (CaseClauseError) no case clause matching: nil
Mar 25 09:24:27 PM          (network_lab) lib/network_lab_web/channels/auth_socket.ex:21: NetworkLabWeb.AuthSocket.connect/3
Mar 25 09:24:27 PM          (phoenix) lib/phoenix/socket.ex:652: Phoenix.Socket.user_connect/6
Mar 25 09:24:27 PM          (phoenix) lib/phoenix/socket.ex:531: anonymous fn/9 in Phoenix.Socket.__connect__/3
Mar 25 09:24:27 PM          (phoenix) lib/phoenix/transports/websocket.ex:31: Phoenix.Transports.WebSocket.connect/4
Mar 25 09:24:27 PM          (phoenix) lib/phoenix/endpoint/cowboy2_handler.ex:21: Phoenix.Endpoint.Cowboy2Handler.init/4
Mar 25 09:24:27 PM          (cowboy) /opt/render/project/src/deps/cowboy/src/cowboy_handler.erl:41: :cowboy_handler.execute/2
Mar 25 09:24:27 PM          (cowboy) /opt/render/project/src/deps/cowboy/src/cowboy_stream_h.erl:320: :cowboy_stream_h.execute/3
Mar 25 09:24:27 PM          (cowboy) /opt/render/project/src/deps/cowboy/src/cowboy_stream_h.erl:302: :cowboy_stream_h.request_process/3
Mar 25 09:24:27 PM  20:24:27.519 request_id=Ff-lxuTeIQwvJp4AAZ0h [info] POST /task/8082050
Mar 25 09:24:27 PM  20:24:27.520 request_id=Ff-lxuTeIQwvJp4AAZ0h [info] Sent 302 in 769µs
Mar 25 09:24:27 PM  20:24:27.647 request_id=Ff-lxux7Nayi9RQAAZ1B [info] GET /task




Mar 25 09:24:38 PM  Request: GET /auth_socket/websocket?token=SFMyNTY.g3QAAAACZAAEZGF0YWIAABGdZAAGc2lnbmVkbgYA_0eN73AB.ug795jThrbQA6zy7Rb4Ca7Qt_2kAu9h3sZHKScijvYs&vsn=2.0.0
Mar 25 09:24:38 PM  ** (exit) an exception was raised:
Mar 25 09:24:38 PM      ** (CaseClauseError) no case clause matching: nil
Mar 25 09:24:38 PM          (network_lab) lib/network_lab_web/channels/auth_socket.ex:21: NetworkLabWeb.AuthSocket.connect/3
Mar 25 09:24:38 PM          (phoenix) lib/phoenix/socket.ex:652: Phoenix.Socket.user_connect/6
Mar 25 09:24:38 PM          (phoenix) lib/phoenix/socket.ex:531: anonymous fn/9 in Phoenix.Socket.__connect__/3
Mar 25 09:24:38 PM          (phoenix) lib/phoenix/transports/websocket.ex:31: Phoenix.Transports.WebSocket.connect/4
Mar 25 09:24:38 PM          (phoenix) lib/phoenix/endpoint/cowboy2_handler.ex:21: Phoenix.Endpoint.Cowboy2Handler.init/4
Mar 25 09:24:38 PM          (cowboy) /opt/render/project/src/deps/cowboy/src/cowboy_handler.erl:41: :cowboy_handler.execute/2
Mar 25 09:24:38 PM          (cowboy) /opt/render/project/src/deps/cowboy/src/cowboy_stream_h.erl:320: :cowboy_stream_h.execute/3
Mar 25 09:24:38 PM          (cowboy) /opt/render/project/src/deps/cowboy/src/cowboy_stream_h.erl:302: :cowboy_stream_h.request_process/3
Mar 25 09:24:38 PM  20:24:38.699 request_id=Ff-lyX9BUfYlUCwAAZ8B [info] GET /task



.ug795jThrbQA6zy7Rb4Ca7Qt_2kAu9h3sZHKScijvYs&vsn=2.0.0
Mar 25 09:24:54 PM  ** (exit) an exception was raised:
Mar 25 09:24:54 PM      ** (CaseClauseError) no case clause matching: nil
Mar 25 09:24:54 PM          (network_lab) lib/network_lab_web/channels/auth_socket.ex:21: NetworkLabWeb.AuthSocket.connect/3
Mar 25 09:24:54 PM          (phoenix) lib/phoenix/socket.ex:652: Phoenix.Socket.user_connect/6
Mar 25 09:24:54 PM          (phoenix) lib/phoenix/socket.ex:531: anonymous fn/9 in Phoenix.Socket.__connect__/3
Mar 25 09:24:54 PM          (phoenix) lib/phoenix/transports/websocket.ex:31: Phoenix.Transports.WebSocket.connect/4
Mar 25 09:24:54 PM          (phoenix) lib/phoenix/endpoint/cowboy2_handler.ex:21: Phoenix.Endpoint.Cowboy2Handler.init/4
Mar 25 09:24:54 PM          (cowboy) /opt/render/project/src/deps/cowboy/src/cowboy_handler.erl:41: :cowboy_handler.execute/2
Mar 25 09:24:54 PM          (cowboy) /opt/render/project/src/deps/cowboy/src/cowboy_stream_h.erl:320: :cowboy_stream_h.execute/3
Mar 25 09:24:54 PM          (cowboy) /opt/render/project/src/deps/cowboy/src/cowboy_stream_h.erl:302: :cowboy_stream_h.request_process/3
Mar 25 09:24:54 PM  20:24:54.047 [info] JOINED user:8066 in 65µs
Mar 25 09:24:54 PM    Parameters: %{}
Mar 25 09:24:54 PM  20:24:54.271 [info] CONNECTED TO NetworkLabWeb.AuthSocket in 343µs



.ug795jThrbQA6zy7Rb4Ca7Qt_2kAu9h3sZHKScijvYs&vsn=2.0.0
Mar 25 09:25:09 PM  ** (exit) an exception was raised:
Mar 25 09:25:09 PM      ** (CaseClauseError) no case clause matching: nil
Mar 25 09:25:09 PM          (network_lab) lib/network_lab_web/channels/auth_socket.ex:21: NetworkLabWeb.AuthSocket.connect/3
Mar 25 09:25:09 PM          (phoenix) lib/phoenix/socket.ex:652: Phoenix.Socket.user_connect/6
Mar 25 09:25:09 PM          (phoenix) lib/phoenix/socket.ex:531: anonymous fn/9 in Phoenix.Socket.__connect__/3
Mar 25 09:25:09 PM          (phoenix) lib/phoenix/transports/websocket.ex:31: Phoenix.Transports.WebSocket.connect/4
Mar 25 09:25:09 PM          (phoenix) lib/phoenix/endpoint/cowboy2_handler.ex:21: Phoenix.Endpoint.Cowboy2Handler.init/4
Mar 25 09:25:09 PM          (cowboy) /opt/render/project/src/deps/cowboy/src/cowboy_handler.erl:41: :cowboy_handler.execute/2
Mar 25 09:25:09 PM          (cowboy) /opt/render/project/src/deps/cowboy/src/cowboy_stream_h.erl:320: :cowboy_stream_h.execute/3
Mar 25 09:25:09 PM          (cowboy) /opt/render/project/src/deps/cowboy/src/cowboy_stream_h.erl:302: :cowboy_stream_h.request_process/3
Mar 25 09:25:09 PM  20:25:09.816 [info] JOINED user:8082 in 64µs
Mar 25 09:25:09 PM    Parameters: %{}
Mar 25 09:25:10 PM  20:25:10.281 request_id=Ff-l0NmyzcXEmTMAAaDh [info] GET /task/808102/edit



UPDATE "networks" SET "attached_users" = $1, "node_mapping" = $2, "started_at" = $3, "status" = $4, "user_mapping" = $5, "updated_at" = $6 WHERE "id" = $7 [88, %{48 => 11639, 62 => 11588, 11 => 11557, 39 => 11643, 83 => 11622, 63 => 11541, 34 => 11586, 68 => 11534, 26 => 11581, 78 => 11558, 52 => 11559, 15 => 11568, 64 => 11587, 75 => 11600, 81 => 11613, 71 => 11580, 20 => 11573, 50 => 11569, 17 => 11571, 25 => 11563, 65 => 11579, 98 => 11583, 79 => 11599, 13 => 11642, 44 => 11635, 8 => 11593, 36 => 11649, 67 => 11565, 7 => 11603, 66 => 11567, 85 => 11621, 76 => 11535, 1 => 11537, 32 => 11548, 69 => 11595, 37 => 11545, 35 => 11562, 84 => 11568, 3 => 11554, 82 => 11566, 45 => 11646, 55 => 11539, 6 => 11577, 2 => 11555, 94 => 11631, 49 => 11610, 41 => 11658, 91 => 11604, ...}, ~N[2020-03-31 18:30:59], "closed", %{11554 => 3, 11567 => 4, 11539 => 55, 11592 => 42, 11646 => 45, 11639 => 48, 11635 => 44, 11550 => 16, 11589 => 43, 11542 => 92, 11624 => 10, 11572 => 58, 11622 => 83, 11587 => 21, 11577 => 57, 11535 => 76, 11588 => 62, 11540 => 46, 11555 => 2, 11541 => 63, 11561 => 97, 11568 => 84, 11530 => 12, 11629 => 30, 11551 => 5, 11547 => 74, 11581 => 26, 11599 => 79, 11604 => 91, 11595 => 69, 11570 => 27, 11565 => 67, 11642 => 13, 11606 => 28, 11571 => 70, 11578 => 59, 11648 => 40, 11649 => 36, 11658 => 41, 11605 => 96, 11638 => 73, 11558 => 78, 11569 => 31, 11603 => 7, 11627 => 95, ...}, ~N[2020-03-31 18:30:59], 70






* database cache: insert and get don't have to be call and casts?
# To Do

IF USER ALREADY IS ASSIGNED DO NOT REASSIGN
MAKE SURE THAT AFTER RELOGIN USER GETS WHERE HE NEEDS TO BE

Control group:
==============
user gets link
is redirected to the welcome page
fills out his/her political preference
clicks on Go
Gets a set of messages
is directed to the tasks page
opens all messages and either shares or discards
once there is no message left, he/she will be redirected to exit page


Questions
=========
Wat is in mijn geval beter? Per user joining the topics (channels) of all mij neighbours? Of ga ik voor 1 topic (personalised channel) per user en laat de server broadcasten naar de verschillende channels van mijn buren.
De een zorgt voor joining 6 topics, the other is harder on the server??

Komt er een moment dat de database het socketverkeer niet meer kan bijhouden?






# Step 1 
is to build a functionality that leads you to a page with messages that were send by you by someone else
or the system, you can open and read the message, and decide to share or to discard.
Once you shared/discarded the last message you are taken to a payment website in which you retrieve a token
or whatever.



## User accounts
1. With 1 button I'd like to create n user accounts
2. I need an export, as soon as there are user account records I want an
export functionality to excel
3. People should be able to login

## Statements
1. Context, hard code that stuff into a Context

# redirect to appropriate task when 

Sockets:
create endpoint in Web > endpoint.ex
create the socket 
create channels from within the socket file
setup the channels

authentication can be done through the sock endpoint -and- in the channel through the join function
